---
title: NR参考信号学习（三）
mathjax: true
tags:
- 5GNR
categories:
- 学习记录
- 5G
---


本节主要介绍物理资源块等相关概念，以及SRS的配置方式。

<!-- more -->

## 逻辑资源块

### 频域资源基本概念

我们先介绍两种基本概念，然后引出资源栅格。

* **RE: Resource Element**

  是物理层最小粒度的资源。对应的是频域1个子载波，时域1个OFDM符号。资源单元RE定义为资源网格上的单元，是最小的资源单位。每个RE在频域上占用1个子载波，在时域上占用1个OFDM符号，并由$ (k,l)_{p,\mu}$唯一标识，如图1所示。其中$k$表示频域索引，$l$表示时域上相对于某一参考点的OFDM符号位置，$p$表示天线端口，$\mu$表示子载波间隔配置

* **RB: Resource Block**

  数据信道资源分配的频域基本调度单位。频域上是12个子载波，是一个频域概念，没有定义时域。

和LTE类似，对于任意子载波间隔配置$\mu$，NR中1个RB定义为频域上$N_{SC}^{RB}= 12 $ 个连续的子载波【TS38.211 -4.4.4.1】。

![image-20230421104601750](https://s2.loli.net/2023/04/21/wmj4kz9Lfv1Ir25.png)

下面介绍资源栅格。如图1所示是一个资源栅格（Resource Grid）它由：

- 频域上的$N_{SC}^{RB}\times N_{RB}^{\mu}$个子载波，其中的$N_{SC}^{RB}= 12 $表示每个RB由频域上12个连续子载波组成，$N_{grid,RB}^{size,\mu}$表示资源栅格的大小或者说载波带宽，即当子载波间隔配置为$\mu$时的RB数量。
- 时域上的$N_{symb}^{subframe,\mu}$个OFDM符号，其中$N_{symb}^{subframe,\mu}$是1个子帧内OFDM符号数。

组成。**在时域上，最小的资源粒度是一个OFDM符号，在频域上，最小的粒度是一个子载波。**一个OFDM符号与一个子载波组成的一个时频资源单元即为RE，物理层在进行资源映射的时候，是以RE为基本单位的。每个RE$(k,l)_{p,\mu}$对应一个物理资源和复数值$a_{k,l}^{(p,\mu)}$ ，这就是后续将逻辑功能映射到物理功能的桥梁。**对于相同带宽但不同子载波间隔配置的资源网格，其在频域上占用的子载波或者RB数，以及在时域上占用的OFDM符号数是不同的，但是其包含的RE数是相同的**。例如，18 MHz的带宽，当子载波间隔配置$\mu =0$（SCS=15 kHz）时，频域上有100个PRB（1200个子载波），1个子帧上有14个OFDM符号，资源网格上共有16800个RE；当子载波间隔配置$\mu =1$（SCS=30 kHz）时，频域上有50个PRB（600个子载波），1个子帧上有28个OFDM符号，资源网格上也是共有16800个RE。

**另外需要注意的是，对于每个天线端口$p$，子载波间隔配置$\mu$和传输方向，都有一个资源网格。**

## SRS的资源配置

其实资源配置的内容在前面也有提及。这里再重新明确一下对应关系。配置SRS其实就是在传输的资源栅格中放入SRS资源。一个SRS对应的就是一个资源粒子。

![image-20230421104601750](https://s2.loli.net/2023/04/21/wmj4kz9Lfv1Ir25.png)

NR中网络可以为终端配置一个或多个SRS资源集，多个资源集的目的可能是为了上下行多天线预编码，也有可能是为了上下行波束管理。一个SRS资源集内可以包含一个或多个SRS资源，每个SRS资源占用的时频域资源为：

* 时域上占用slot中最后6个符号中的连续1、2或4个符号。
* 频域上可以占用4-272个RB，这里是因为NR中BWP的最大带宽是275个RB，SRS总要有将全部BWP带宽sounding完的能力，再考虑到SRS带宽最好是4的整数倍，所以SRS带宽支持4-272个RB的范围，最大272个RB的SRS带宽导致会有3个RB sounding不到的情况，但性能损失几乎可以忽略不计。

## NR引入的新概念(TODO)

和LTE不同的是，由于NR在同一个载波上支持多个参数集（Numerology），不同参数集的RB在频域上占用的长度是不同的，因此为了保证不同参数集RB的对齐，NR引入了**Point A、公共资源块（Common Resource Block，CRB）、物理资源块（Physical Resource Block，PRB）、虚拟资源块（Virtual Resource Block，VRB）**等概念 。



